[workspace]
channels = ["conda-forge"]
name = "isaac_lab"
platforms = ["linux-64", "win-64"]
version = "0.1.0"

[pypi-options]
extra-index-urls = ["https://pypi.nvidia.com"]

[system-requirements]
libc = { family = "glibc", version = "2.35" }

[pypi-dependencies]
torch = { version = "==2.7.0", index = "https://download.pytorch.org/whl/cu128" }
torchvision = { version = "==0.22.0", index = "https://download.pytorch.org/whl/cu128" }
isaacsim = { version = "==5.1.0", extras = ["all", "extscache"] }

[tasks]
clone-isaaclab = "test -d IsaacLab || git clone ..."
install-isaaclab = { cmd = "cd IsaacLab && pip install -e .", depends-on = ["clone-isaaclab"] }
setup = { depends-on = ["install-isaaclab"] }

# Launch Isaac Sim GUI
isaac-sim = "isaacsim"

# Or launch with Python script
isaac-sim-python = "python -c 'from isaacsim import SimulationApp; app = SimulationApp({\"headless\": False}); import time; time.sleep(60); app.close()'"

# Launch Isaac Sim with a specific scene
isaac-sim-empty = "python -c 'from isaacsim import SimulationApp; app = SimulationApp({\"headless\": False}); from omni.isaac.core import World; world = World(); world.scene.add_default_ground_plane(); import time; time.sleep(300); app.close()'"

# Isaac Lab demos (these launch Isaac Sim automatically)
lab-help = "cd IsaacLab && ./isaaclab.sh --help"
lab-arms = "python IsaacLab/scripts/demos/arms.py"
lab-quadrupeds = "python IsaacLab/scripts/demos/quadrupeds.py"
lab-cartpole = "python IsaacLab/scripts/demos/cartpole.py"
lab-markers = "python IsaacLab/scripts/demos/markers.py"

# Run custom scripts
lab-run = "cd IsaacLab && ./isaaclab.sh -p"

[dependencies]
python = "3.11.*"
git = "*"
pip = "*"
